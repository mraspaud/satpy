reader:
  description: L1 reader for OLI/TIRS data (Landsat 8)
  name: lsa8_l1
  sensors: [oli, tirs]
  default_channels: []
  reader: !!python/name:satpy.readers.yaml_reader.FileYAMLReader

file_types:
    lsa_granule:
        file_reader: !!python/name:satpy.readers.lsa8_l1.LSA8BandReader
        file_patterns: ['L{sensor:1s}{satellite:2d}_{processing_level:4s}_{wrs_path:3d}{wrs_row:3d}_{acquisition_date:%Y%m%d}_{processing_date:%Y%m%d}_{collection:2s}_{category:2s}_{channel}.TIF']
        requires: [lsa_metadata]
    lsa_metadata:
        file_reader: !!python/name:satpy.readers.lsa8_l1.LSA8MetaReader
        file_patterns: ['L{sensor:1s}{satellite:2d}_{processing_level:4s}_{wrs_path:3d}{wrs_row:3d}_{acquisition_date:%Y%m%d}_{processing_date:%Y%m%d}_{collection:2s}_{category:2s}_MTL.txt']

datasets:

  B1:
    name: B1
    sensor: OLI
    wavelength: [0.435, 0.443, 0.451]
    resolution: 30
    file_type: lsa_granule

  B2:
    name: B2
    sensor: OLI
    wavelength: [0.452, 0.490, 0.512]
    resolution: 30
    file_type: lsa_granule

  B3:
    name: B3
    sensor: OLI
    wavelength: [0.533, 0.560, 0.590]
    resolution: 30
    file_type: lsa_granule

  B4:
    name: B4
    sensor: OLI
    wavelength: [0.636, 0.665, 0.673]
    resolution: 30
    file_type: lsa_granule

  B05:
    name: B05
    sensor: MSI
    wavelength: [0.695, 0.705, 0.715]
    resolution: 20
    file_type: safe_granule

  B06:
    name: B06
    sensor: MSI
    wavelength: [0.731, 0.740, 0.749]
    resolution: 20
    file_type: safe_granule

  B07:
    name: B07
    sensor: MSI
    wavelength: [0.764, 0.783, 0.802]
    resolution: 20
    file_type: safe_granule

  B08:
    name: B08
    sensor: MSI
    wavelength: [0.780, 0.842, 0.905]
    resolution: 10
    file_type: safe_granule

  B8A:
    name: B8A
    sensor: MSI
    wavelength: [0.855, 0.865, 0.875]
    resolution: 20
    file_type: safe_granule

  B09:
    name: B09
    sensor: MSI
    wavelength: [0.935, 0.945, 0.955]
    resolution: 60
    file_type: safe_granule

  B10:
    name: B10
    sensor: MSI
    wavelength: [1.365, 1.375, 1.385]
    resolution: 60
    file_type: safe_granule

  B11:
    name: B11
    sensor: MSI
    wavelength: [1.565, 1.610, 1.655]
    resolution: 20
    file_type: safe_granule

  B12:
    name: B12
    sensor: MSI
    wavelength: [2.100, 2.190, 2.280]
    resolution: 20
    file_type: safe_granule


  solar_zenith_angle:
    name: solar_zenith_angle
    resolution: [15, 30]
    file_type: lsa_metadata

  solar_azimuth_angle:
    name: solar_azimuth_angle
    resolution: [15, 30]
    file_type: lsa_metadata

  satellite_azimuth_angle:
    name: satellite_azimuth_angle
    resolution: [10, 20, 60]
    file_type: safe_g_metadata
    xml_tag: Viewing_Incidence_Angles_Grids
    xml_item: Azimuth

  satellite_zenith_angle:
    name: satellite_zenith_angle
    resolution: [10, 20, 60]
    file_type: safe_g_metadata
    xml_tag: Viewing_Incidence_Angles_Grids
    xml_item: Zenith
